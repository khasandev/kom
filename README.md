<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Serial</title>
    <link rel="stylesheet" href="../css/style.css" />
  </head>
  <body>
    <!-- Loader -->
    <section class="loader">
      <section class="paper_man_wrapper">
        <section class="paper_man">
          <section class="paper_man_body part">
            <section class="paper_man_head part"></section>
            <section class="paper_man_arm left">
              <section class="paper_man_arm_1 part">
                <section class="paper_man_arm_2 part">
                  <section class="paper_man_arm_hand part"></section>
                </section>
              </section>
            </section>
            <section class="paper_man_arm right">
              <section class="paper_man_arm_1 part">
                <section class="paper_man_arm_2 part">
                  <section class="paper_man_arm_hand part"></section>
                </section>
              </section>
            </section>
            <section class="paper_man_leg left">
              <section class="paper_man_leg_1 part">
                <section class="paper_man_leg_2 part">
                  <section class="paper_man_leg_foot part"></section>
                </section>
              </section>
            </section>
            <section class="paper_man_leg right">
              <section class="paper_man_leg_1 part">
                <section class="paper_man_leg_2 part">
                  <section class="paper_man_leg_foot part"></section>
                </section>
              </section>
            </section>
          </section>
        </section>
      </section>
    </section>

    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header__content">
          <h2>Central Intellegance</h2>
          <div class="btn__group">
            <button data-modal class="button arrow">Read more</button>
            <button data-modal class="button phone">Contact Us</button>
          </div>
        </div>
      </div>
    </header>

    <!-- Preview -->
    <div class="preview">
      <div class="bgc_blue"></div>
      <div class="container">
        <div class="tabcontainer">
          <div class="tabheader">
            <h3>Category Of Series</h3>
            <div class="tabheader__items">
              <div class="tabheader__item tabheader__item_active">Drama</div>
              <div class="tabheader__item">Comedy</div>
              <div class="tabheader__item">Documentary</div>
              <div class="tabheader__item">Sport</div>
              <div class="tabheader__item">Fantastic</div>
            </div>
          </div>
          <!-- 1 -->
          <div class="tabcontent">
            <img src="../img/1.png" alt="drama" />
            <div class="tabcontent__descr">
              Drama is the specific mode of fiction represented in performance:
              a play, opera, mime, ballet, etc., performed in a theatre, or on
              radio or television.[1] Considered as a genre of poetry in
              general, the dramatic mode has been contrasted with the epic and
              the lyrical modes ever since Aristotle's Poetics (c. 335 BC)—the
              earliest work of dramatic theory.[2] The term "drama" comes from a
              Greek word "draō" meaning "to do / to act" (Classical Greek:
              δρᾶμα, drama), which is derived from "I do" (Classical Greek:
              δράω, drao). The two masks associated with drama represent the
              traditional generic division between comedy and tragedy. In
              English (as was the analogous case in many other European
              languages), the word play or game.
            </div>
          </div>

          <!-- 2 -->
          <div class="tabcontent">
            <img src="../img/2.jpg" alt="comedy" />
            <div class="tabcontent__descr">
              Comedy (from the Greek: κωμῳδία, kōmōdía) is a genre of fiction
              that consists of discourses or works intended to be humorous or
              amusing by inducing laughter, especially in theatre, film,
              stand-up comedy, television, radio, books, or any other
              entertainment medium. The term originated in ancient Greece: in
              Athenian democracy, the public opinion of voters was influenced by
              political satire performed by comic poets in theaters.[1] The
              theatrical genre of Greek comedy can be described as a dramatic
              performance pitting two groups, ages, genders, or societies
              against each other in an amusing agon or conflict. Northrop Frye
              depicted these two opposing sides as a "Society of Youth".
            </div>
          </div>

          <!-- 3 -->
          <div class="tabcontent">
            <img src="../img/3.jpg" alt="documentary" />
            <div class="tabcontent__descr">
              A documentary film or documentary is a non-fictional
              motion-picture intended to "document reality, primarily for the
              purposes of instruction, education, or maintaining a historical
              record".[1] Bill Nichols has characterised the documentary in
              terms of "a filmmaking practice, a cinematic tradition, and mode
              of audience reception [that remains] a practice without clear
              boundaries".[2] Early documentary films, originally called
              "actuality films", lasted one minute or less. Over time,
              documentaries have evolved to become longer in length, and to
              include more categories; some examples being: educational,
              observational, and docufiction. Documentaries are very informative
              and are often used within schools, as a resource to teach various
              principles. Documentary filmmakers have a responsibility to be
              truthful to their vision of the world without intentionally
              misrepresenting a topic.
            </div>
          </div>

          <!-- 4 -->
          <div class="tabcontent">
            <img src="../img/4.jpg" alt="sport" />
            <div class="tabcontent__descr">
              Sport pertains to any form of competitive physical activity or
              game[1] that aims to use, maintain or improve physical ability and
              skills while providing enjoyment to participants and, in some
              cases, entertainment to spectators.[2] Sports can, through casual
              or organized participation, improve one's physical health.
              Hundreds of sports exist, from those between single contestants,
              through to those with hundreds of simultaneous participants,
              either in teams or competing as individuals. In certain sports
              such as racing, many contestants may compete, simultaneously or
              consecutively, with one winner; in others, the contest (a match)
              is between two sides, each attempting to exceed the other. Some
              sports allow.
            </div>
          </div>

          <!-- 5 -->
          <div class="tabcontent">
            <img src="../img/5.jpg" alt="fantastic" />
            <div class="tabcontent__descr">
              The fantastic requires the fulfillment of three conditions. First,
              the text must oblige the reader to consider the world of the
              characters as a world of living persons and to hesitate between a
              natural or supernatural explanation of the events described.
              Second, this hesitation may also be experienced by a character;
              thus the reader's role is so to speak entrusted to a character,
              and at the same time the hesitation is represented, it becomes one
              of the themes of the work—in the case of naive reading, the actual
              reader identifies himself with the character. Third, the reader
              must adopt a certain attitude with regard to the text: he will
              reject allegorical as well as "poetic" interpretations
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Order -->
    <div class="order">
      <div class="container">
        <div class="title">Order the best place!</div>
        <form action="#" class="order__form">
          <input
            required
            placeholder="Name"
            name="name"
            type="text"
            class="order__input"
          />
          <input
            required
            placeholder="Number"
            name="phone"
            type="phone"
            class="order__input"
          />
          <img src="../icons/right.svg" alt="right" />
          <button data-modal class="button phone order_btn">Contact Us</button>
        </form>
      </div>
    </div>

    <!-- Offer -->
    <div class="offer">
      <div class="bgc_y"></div>
      <div>
        <div class="offer__slider">
          <div class="offer__slider-counter">
            <div class="offer__slider-prev">
              <img src="../icons/left.svg" alt="prev" />
            </div>
            <span id="current">03</span>
            /
            <span id="total">05</span>
            <div class="offer__slider-next">
              <img src="../icons/left.svg" alt="next" />
            </div>
          </div>
          <div class="offer__slider-wrapper">
            <!-- 1 -->
            <!-- <div class="offer__slide">
              <img src="img/slider/slider1.jpg" alt="slider1" />
              <div class="tabcontent__descr">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi iure, nam fuga vero eum numquam autem! Pariatur laborum voluptas adipisci debitis, atque ut fugit aperiam minus porro labore consectetur placeat eius aliquam, dicta, maiores ea numquam esse cum distinctio laboriosam non hic. Possimus est ipsam unde, nulla voluptas, suscipit vitae eligendi velit laboriosam eveniet quae eaque? Perferendis at ullam accusantium numquam ratione, cum repellendus labore ea tempora. Deserunt, unde optio qui at vero nisi non ipsum cumque numquam minima minus tempora nesciunt aspernatur omnis consequuntur, itaque adipisci et explicabo! Sint repudiandae dolores, nobis consectetur quasi eos. Accusantium alias quisquam qui id eligendi nisi error. Quo perferendis sapiente provident dolores sequi, fugit dignissimos facilis eaque laudantium minima nisi enim maxime! A atque labore accusantium, dolore non deserunt sunt quos incidunt, hic iste quidem animi? Culpa repellat reprehenderit minus qui quam reiciendis, maiores velit totam earum iste, modi temporibus vitae hic et esse aspernatur perferendis ipsa porro ad consectetur laborum. Ratione perferendis minima ad nostrum earum quos vero ab, amet est incidunt.
              </div>
            </div> -->

            <!-- 2 -->
            <!-- <div class="offer__slide">
                <img src="img/slider/slider2.jpg" alt="slider2">
                <div class="tabcontent__descr">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi iure, nam fuga vero eum numquam autem! Pariatur laborum voluptas adipisci debitis, atque ut fugit aperiam minus porro labore consectetur placeat eius aliquam, dicta, maiores ea numquam esse cum distinctio laboriosam non hic. Possimus est ipsam unde, nulla voluptas, suscipit vitae eligendi velit laboriosam eveniet quae eaque? Perferendis at ullam accusantium numquam ratione, cum repellendus labore ea tempora. Deserunt, unde optio qui at vero nisi non ipsum cumque numquam minima minus tempora nesciunt aspernatur omnis consequuntur, itaque adipisci et explicabo! Sint repudiandae dolores, nobis consectetur quasi eos. Accusantium alias quisquam qui id eligendi nisi error. Quo perferendis sapiente provident dolores sequi, fugit dignissimos facilis eaque laudantium minima nisi enim maxime! A atque labore accusantium, dolore non deserunt sunt quos incidunt, hic iste quidem animi? Culpa repellat reprehenderit minus qui quam reiciendis, maiores velit totam earum iste, modi temporibus vitae hic et esse aspernatur perferendis ipsa porro ad consectetur laborum. Ratione perferendis minima ad nostrum earum quos vero ab, amet est incidunt.
                </div>
            </div> -->

            <!-- 3 -->
            <!-- <div class="offer__slide">
                <img src="img/slider/slider3.jpg" alt="slider3">
                <div class="tabcontent__descr">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi iure, nam fuga vero eum numquam autem! Pariatur laborum voluptas adipisci debitis, atque ut fugit aperiam minus porro labore consectetur placeat eius aliquam, dicta, maiores ea numquam esse cum distinctio laboriosam non hic. Possimus est ipsam unde, nulla voluptas, suscipit vitae eligendi velit laboriosam eveniet quae eaque? Perferendis at ullam accusantium numquam ratione, cum repellendus labore ea tempora. Deserunt, unde optio qui at vero nisi non ipsum cumque numquam minima minus tempora nesciunt aspernatur omnis consequuntur, itaque adipisci et explicabo! Sint repudiandae dolores, nobis consectetur quasi eos. Accusantium alias quisquam qui id eligendi nisi error. Quo perferendis sapiente provident dolores sequi, fugit dignissimos facilis eaque laudantium minima nisi enim maxime! A atque labore accusantium, dolore non deserunt sunt quos incidunt, hic iste quidem animi? Culpa repellat reprehenderit minus qui quam reiciendis, maiores velit totam earum iste, modi temporibus vitae hic et esse aspernatur perferendis ipsa porro ad consectetur laborum. Ratione perferendis minima ad nostrum earum quos vero ab, amet est incidunt.
                </div>
            </div> -->

            <!-- 4 -->
            <!-- <div class="offer__slide">
                <img src="img/slider/slider4.jpg" alt="slider4">
                <div class="tabcontent__descr">
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi iure, nam fuga vero eum numquam autem! Pariatur laborum voluptas adipisci debitis, atque ut fugit aperiam minus porro labore consectetur placeat eius aliquam, dicta, maiores ea numquam esse cum distinctio laboriosam non hic. Possimus est ipsam unde, nulla voluptas, suscipit vitae eligendi velit laboriosam eveniet quae eaque? Perferendis at ullam accusantium numquam ratione, cum repellendus labore ea tempora. Deserunt, unde optio qui at vero nisi non ipsum cumque numquam minima minus tempora nesciunt aspernatur omnis consequuntur, itaque adipisci et explicabo! Sint repudiandae dolores, nobis consectetur quasi eos. Accusantium alias quisquam qui id eligendi nisi error. Quo perferendis sapiente provident dolores sequi, fugit dignissimos facilis eaque laudantium minima nisi enim maxime! A atque labore accusantium, dolore non deserunt sunt quos incidunt, hic iste quidem animi? Culpa repellat reprehenderit minus qui quam reiciendis, maiores velit totam earum iste, modi temporibus vitae hic et esse aspernatur perferendis ipsa porro ad consectetur laborum. Ratione perferendis minima ad nostrum earum quos vero ab, amet est incidunt.
                </div>
            </div> -->

            <!-- 5 -->
            <div class="offer__slide">
              <img src="../img/slider5.jpg" alt="slider5">
              <div class="tabcontent__descr">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi iure, nam fuga vero eum numquam autem! Pariatur laborum voluptas adipisci debitis, atque ut fugit aperiam minus porro labore consectetur placeat eius aliquam, dicta, maiores ea numquam esse cum distinctio laboriosam non hic. Possimus est ipsam unde, nulla voluptas, suscipit vitae eligendi velit laboriosam eveniet quae eaque? Perferendis at ullam accusantium numquam ratione, cum repellendus labore ea tempora. Deserunt, unde optio qui at vero nisi non ipsum cumque numquam minima minus tempora nesciunt aspernatur omnis consequuntur, itaque adipisci et explicabo! Sint repudiandae dolores, nobis consectetur quasi eos. Accusantium alias quisquam qui id eligendi nisi error. Quo perferendis sapiente provident dolores sequi, fugit dignissimos facilis eaque laudantium minima nisi enim maxime! A atque labore accusantium, dolore non deserunt sunt quos incidunt, hic iste quidem animi? Culpa repellat reprehenderit minus qui quam reiciendis, maiores velit totam earum iste, modi temporibus vitae hic et esse aspernatur perferendis ipsa porro ad consectetur laborum. Ratione perferendis minima ad nostrum earum quos vero ab, amet est incidunt.
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- Menu -->
    <div class="menu">
      <h2 class="title">Our Menu</h2>
      <div class="menu__field">
        <div class="container"></div>
      </div>
    </div>

    <!-- Promotion -->
    <div class="promotion">
      <div class="bgc_y"></div>
      <div class="container">
        <div class="promotion__text">
          <div class="title">Promotion for new customers!</div>
          <div class="promotion__descr">
            We value every client and invite you to become one of them on
             very favorable conditions. Anyone who orders food delivery for
             week, a discount of <span>20%!</span>
            <br /><br />
            The promotion will end on May 20 at 00:00
          </div>
        </div>
        <div class="promotion__timer">
          <div class="title">Remaining until the end of the promotion:</div>
          <div class="timer">
            <div class="timer__block">
              <span id="days">99</span>
              day
            </div>
            <div class="timer__block">
              <span id="hours">09</span>
              hours
            </div>
            <div class="timer__block">
              <span id="minutes">99</span>
              minutes
            </div>
            <div class="timer__block">
              <span id="seconds">09</span>
              seconds
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal">
      <div class="modal__dialog">
        <div class="modal__content">
          <form action="#">
            <div data-close class="modal__close">&times;</div>
            <div class="modal__title">
              Мы свяжемся с вами как можно быстрее!
            </div>
            <inpu     t
              required
              placeholder="Ваше имя"
              name="name"
              type="text"
              class="modal__input"
            />
            <input
              required
              placeholder="Ваш номер телефона"
              name="phone"
              type="phone"
              class="modal__input"
            />
            <button class="button phone modal_btn">Contact Us</button>
          </form>
        </div>
      </div>
    </div>
    <script src="../js/script.js"></script>
</body>
</html>




window.addEventListener('DOMContentLoaded', () => {
    const tabsParent = document.querySelector('.tabheader__items'),
        tabs = document.querySelectorAll('.tabheader__item'),
        tabsContent = document.querySelectorAll('.tabcontent'),
        loader = document.querySelector('.loader')
    

    // Loader
    setTimeout(() => {
        loader.style.opacity = '0'
        setTimeout(() => {
            loader.style.display = 'none'
        },500)
    }, 2000)
    // Tabs
    function hideTabContent() {
        tabsContent.forEach((item) => {
            item.classList.add('hide', )
            item.classList.remove('show',)
        })
        
        tabs.forEach((item) => {
           item.classList.remove('tabheader__item_active')  
        })
    }
    function showTabContent(i = 0) {
       tabsContent[i].classList.add('show', 'fade')
       tabsContent[i].classList.remove('hide')        
        tabs[i].classList.add('tabheader__item_active')
    }

    hideTabContent()
    showTabContent()


    tabsParent.addEventListener('click', (event) => {
        const target = event.target
        if (target && target.classList.contains('tabheader__item')) {
            tabs.forEach((item, idx) => {
                if (target == item) {
                    hideTabContent()
                    showTabContent(idx)
                }
            })
        }
    })




    // Timer


    const deadline = '2022-09-17'
    
    
    function getTimeRemaining(endtime) {
        let days, hours, minutes, seconds
        const timer = Date.parse(endtime) - Date.parse(new Date())



        if(timer <= 0) {
            days = 0
            hours = 0
            minutes = 0
            seconds = 0
        }else {
            days = Math.floor(timer / (1000 * 60 * 60 * 24))
            hours = Math.floor((timer / (1000 * 60 * 60)) % 24)
            minutes = Math.floor((timer / 1000 / 60) % 60)
            seconds = Math.floor((timer / 1000) % 60)
        }
        
        


        return { timer, days, hours, minutes, seconds }
    }


    function getZero(num) {
        if (num >= 0 && num < 10) {
            return `0${num}`
        }else {
            return num
        }
    }

    function setClock(selector, endtime) {
        const timer = document.querySelector(selector),
            days = timer.querySelector('#days')
            hours = timer.querySelector('#hours')
            minutes = timer.querySelector('#minutes')
            seconds = timer.querySelector('#seconds')
            timeInterval = setInterval(updatClock, 1000)
        
        updatClock()



        function updatClock() {
           const t = getTimeRemaining(endtime)

           days.innerHTML = getZero(t.days)
           hours.innerHTML = getZero(t.hours)
           minutes.innerHTML = getZero(t.minutes)
           seconds.innerHTML = getZero(t.seconds)


           if (t.timer <= 0) {
            clearInterval(timeInterval)
           }
        }
    }
    

    setClock('.timer', deadline)
    

    // Modal 

    const modalTrigger = document.querySelectorAll('[data-modal]'),
        modal = document.querySelector('.modal'),
        modalCloseBtn = document.querySelector('[data-close]')
        

    

    function closeModal() {
        modal.classList.add('hide')
        modal.classList.remove('show')
        document.body.style.overflow = ''
    }

    function openModal() {
        modal.classList.add('show')
        modal.classList.remove('hide')
        document.body.style.overflow = 'hidden'
        clearInterval(modalTimerId)
    }


    modalTrigger.forEach((item) => {
        item.addEventListener('click', openModal)
    })


    modalCloseBtn.addEventListener('click', closeModal)


    modal.addEventListener('click', (e) => {
            if(e.target == modal) {
                closeModal()
            }
    })

    document.addEventListener('keydown', (e) => {
        if(e.code === 'Escape' && modal.classList.contains('show')) {
            closeModal()
        }
    })

    const modalTimerId = setTimeout(openModal, 5000)

    function showModalByScroll() {
        if(window.pageYOffset + document.documentElement.clientHeight >= document.documentElement.scrollHeight - 1) {
            openModal()
            window.removeEventListener('scroll', showModalByScroll)
        }
    }


    
    window.addEventListener('scroll', showModalByScroll)


    // Class
    class MenuCard {
        constructor(src, alt, title, descr, price, parentSelector, ...classes) {
            this.src = src
            this.alt = alt
            this.title = title
            this.parent = document.querySelector(parentSelector)
            this.descr = descr
            this.price = price
            this.classes = classes
            this.transfer = 11000
            this.changeToUzb()
        }
        
        changeToUzb() {
            this.price = this.price * this.transfer
        }

        rander() {
            const element = document.createElement('div')
            
            if (this.classes.length === 0) {
                this.element = 'menu__item'
            }else {
                this.classes.forEach((classname) => element.classList.add(classname))
            }

            element.innerHTML = `
                <div class="menu__item">
                    <img src=${this.src} alt=${this.alt} />
                    <h3 class="menu__item-subtitle">${this.title}</h3>
                    <div class="menu__item-descr">${this.descr}</div>
                    <div class="menu__item-divider"></div>
                    <div class="menu__item-price">
                    <div class="menu__item-cost">Price:</div>
                    <div class="menu__item-total"><span>${this.price}</span> uzs month</div>
                    </div>
                </div>
            `

            this.parent.append(element)
        }
    }

    

    new MenuCard(
        "../img/1.png",
        "usual",
        'Plan "Usual"',
        "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Fugit nesciunt facere, sequi exercitationem praesentium ab cupiditate beatae debitis perspiciatis itaque quaerat id modi corporis delectus ratione nobis harum voluptatum in.",
        10,
        '.menu .container',
    ).rander()

    new MenuCard(
        "../img/2.jpg",
        "elite",
        'Plan “Premium”',
        "Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque aliquid molestiae, sit eveniet, tempora ipsum quaerat recusandae sapiente doloremque corporis dolores quas consectetur ut labore distinctio libero reiciendis harum sequi?",    
        15,
        '.menu .container',
        'menu__item'
    ).rander()
    
    new MenuCard(
        "../img/3.jpg",
        "post",
        'Plan "VIP"',
        "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus natus nobis minus corporis atque enim vitae, modi eligendi commodi itaque voluptatum ipsum. Nemo reiciendis, id rem dolorum rerum consequuntur eos.",
        20,
        '.menu .container',
        'menu__item'
    ).rander()
    

    























    // class MenuCard {
    //         constructor(src, alt, title, descr, price, parentSelector, ...classes) {
    //             this.src = src
    //             this.alt = alt
    //             this.title = title
    //             this.parent = document.querySelector(parentSelector)
    //             this.descr = descr
    //             this.price = price
    //             this.classes = classes
    //             this.transfer = 11000
    //             this.changeToUzb()
    //         }

    //         changeToUzb() {
    //             this.price = this.price * this.transfer
    //         }


    //         rander() {
    //             const element = document.createElement('div')

    //            if (this.classes.length === 0) {
    //             this.element = 'menu__item'
    //             element.classList.add(this.element)
    //            }else {
    //             this.classes.forEach((classname) => element.classList.add(classname))
    //            }

    //                 element.innerHTML = 
    //                                     `    <img src=${this.src} alt=${this.alt} />
    //                                         <h3 class="menu__item-subtitle">${this.title}</h3>
    //                                         <div class="menu__item-descr">${this.descr}</div>
    //                                         <div class="menu__item-divider"></div>
    //                                         <div class="menu__item-price">
    //                                         <div class="menu__item-cost">Price:</div>
    //                                         <div class="menu__item-total"><span>${this.price}</span> uzs month</div>
    //                                         </div>`
                    

    //                 this.parent.append(element)

    //         }         
    // }




    
    // new MenuCard(
    //     "../img/1.png",
    //     "usual",
    //     'Plan "Usual"',
    //     "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Fugit nesciunt facere, sequi exercitationem praesentium ab cupiditate beatae debitis perspiciatis itaque quaerat id modi corporis delectus ratione nobis harum voluptatum in.",
    //     10,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()

    // new MenuCard(
    //     "../img/2.jpg",
    //     "elite",
    //     'Plan “Premium”',
    //     "Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque aliquid molestiae, sit eveniet, tempora ipsum quaerat recusandae sapiente doloremque corporis dolores quas consectetur ut labore distinctio libero reiciendis harum sequi?",    
    //     15,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()
    
    // new MenuCard(
    //     "../img/3.jpg",
    //     "post",
    //     'Plan "VIP"',
    //     "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus natus nobis minus corporis atque enim vitae, modi eligendi commodi itaque voluptatum ipsum. Nemo reiciendis, id rem dolorum rerum consequuntur eos.",
    //     20,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()


    
    
    
})  





window.addEventListener('DOMContentLoaded', () => {
    const tabsParent = document.querySelector('.tabheader__items'),
        tabs = document.querySelectorAll('.tabheader__item'),
        tabsContent = document.querySelectorAll('.tabcontent'),
        loader = document.querySelector('.loader')
    

    // Loader
    setTimeout(() => {
        loader.style.opacity = '0'
        setTimeout(() => {
            loader.style.display = 'none'
        },500)
    }, 2000)
    // Tabs
    function hideTabContent() {
        tabsContent.forEach((item) => {
            item.classList.add('hide', )
            item.classList.remove('show',)
        })
        
        tabs.forEach((item) => {
           item.classList.remove('tabheader__item_active')  
        })
    }
    function showTabContent(i = 0) {
       tabsContent[i].classList.add('show', 'fade')
       tabsContent[i].classList.remove('hide')        
        tabs[i].classList.add('tabheader__item_active')
    }

    hideTabContent()
    showTabContent()


    tabsParent.addEventListener('click', (event) => {
        const target = event.target
        if (target && target.classList.contains('tabheader__item')) {
            tabs.forEach((item, idx) => {
                if (target == item) {
                    hideTabContent()
                    showTabContent(idx)
                }
            })
        }
    })




    // Timer


    const deadline = '2022-09-17'
    
    
    function getTimeRemaining(endtime) {
        let days, hours, minutes, seconds
        const timer = Date.parse(endtime) - Date.parse(new Date())



        if(timer <= 0) {
            days = 0
            hours = 0
            minutes = 0
            seconds = 0
        }else {
            days = Math.floor(timer / (1000 * 60 * 60 * 24))
            hours = Math.floor((timer / (1000 * 60 * 60)) % 24)
            minutes = Math.floor((timer / 1000 / 60) % 60)
            seconds = Math.floor((timer / 1000) % 60)
        }
        
        


        return { timer, days, hours, minutes, seconds }
    }


    function getZero(num) {
        if (num >= 0 && num < 10) {
            return `0${num}`
        }else {
            return num
        }
    }

    function setClock(selector, endtime) {
        const timer = document.querySelector(selector),
            days = timer.querySelector('#days')
            hours = timer.querySelector('#hours')
            minutes = timer.querySelector('#minutes')
            seconds = timer.querySelector('#seconds')
            timeInterval = setInterval(updatClock, 1000)
        
        updatClock()



        function updatClock() {
           const t = getTimeRemaining(endtime)

           days.innerHTML = getZero(t.days)
           hours.innerHTML = getZero(t.hours)
           minutes.innerHTML = getZero(t.minutes)
           seconds.innerHTML = getZero(t.seconds)


           if (t.timer <= 0) {
            clearInterval(timeInterval)
           }
        }
    }
    

    setClock('.timer', deadline)
    

    // Modal 

    const modalTrigger = document.querySelectorAll('[data-modal]'),
        modal = document.querySelector('.modal'),
        modalCloseBtn = document.querySelector('[data-close]')
        

    

    function closeModal() {
        modal.classList.add('hide')
        modal.classList.remove('show')
        document.body.style.overflow = ''
    }

    function openModal() {
        modal.classList.add('show')
        modal.classList.remove('hide')
        document.body.style.overflow = 'hidden'
        clearInterval(modalTimerId)
    }


    modalTrigger.forEach((item) => {
        item.addEventListener('click', openModal)
    })


    modalCloseBtn.addEventListener('click', closeModal)


    modal.addEventListener('click', (e) => {
            if(e.target == modal) {
                closeModal()
            }
    })

    document.addEventListener('keydown', (e) => {
        if(e.code === 'Escape' && modal.classList.contains('show')) {
            closeModal()
        }
    })

    const modalTimerId = setTimeout(openModal, 5000)

    function showModalByScroll() {
        if(window.pageYOffset + document.documentElement.clientHeight >= document.documentElement.scrollHeight - 1) {
            openModal()
            window.removeEventListener('scroll', showModalByScroll)
        }
    }


    
    window.addEventListener('scroll', showModalByScroll)


    // Class
    class MenuCard {
        constructor(src, alt, title, descr, price, parentSelector, ...classes) {
            this.src = src
            this.alt = alt
            this.title = title
            this.parent = document.querySelector(parentSelector)
            this.descr = descr
            this.price = price
            this.classes = classes
            this.transfer = 11000
            this.changeToUzb()
        }
        
        changeToUzb() {
            this.price = this.price * this.transfer
        }

        rander() {
            const element = document.createElement('div')
            
            if (this.classes.length === 0) {
                this.element = 'menu__item'
            }else {
                this.classes.forEach((classname) => element.classList.add(classname))
            }

            element.innerHTML = `
                <div class="menu__item">
                    <img src=${this.src} alt=${this.alt} />
                    <h3 class="menu__item-subtitle">${this.title}</h3>
                    <div class="menu__item-descr">${this.descr}</div>
                    <div class="menu__item-divider"></div>
                    <div class="menu__item-price">
                    <div class="menu__item-cost">Price:</div>
                    <div class="menu__item-total"><span>${this.price}</span> uzs month</div>
                    </div>
                </div>
            `

            this.parent.append(element)
        }
    }

    

    new MenuCard(
        "../img/1.png",
        "usual",
        'Plan "Usual"',
        "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Fugit nesciunt facere, sequi exercitationem praesentium ab cupiditate beatae debitis perspiciatis itaque quaerat id modi corporis delectus ratione nobis harum voluptatum in.",
        10,
        '.menu .container',
    ).rander()

    new MenuCard(
        "../img/2.jpg",
        "elite",
        'Plan “Premium”',
        "Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque aliquid molestiae, sit eveniet, tempora ipsum quaerat recusandae sapiente doloremque corporis dolores quas consectetur ut labore distinctio libero reiciendis harum sequi?",    
        15,
        '.menu .container',
        'menu__item'
    ).rander()
    
    new MenuCard(
        "../img/3.jpg",
        "post",
        'Plan "VIP"',
        "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus natus nobis minus corporis atque enim vitae, modi eligendi commodi itaque voluptatum ipsum. Nemo reiciendis, id rem dolorum rerum consequuntur eos.",
        20,
        '.menu .container',
        'menu__item'
    ).rander()
    

    























    // class MenuCard {
    //         constructor(src, alt, title, descr, price, parentSelector, ...classes) {
    //             this.src = src
    //             this.alt = alt
    //             this.title = title
    //             this.parent = document.querySelector(parentSelector)
    //             this.descr = descr
    //             this.price = price
    //             this.classes = classes
    //             this.transfer = 11000
    //             this.changeToUzb()
    //         }

    //         changeToUzb() {
    //             this.price = this.price * this.transfer
    //         }


    //         rander() {
    //             const element = document.createElement('div')

    //            if (this.classes.length === 0) {
    //             this.element = 'menu__item'
    //             element.classList.add(this.element)
    //            }else {
    //             this.classes.forEach((classname) => element.classList.add(classname))
    //            }

    //                 element.innerHTML = 
    //                                     `    <img src=${this.src} alt=${this.alt} />
    //                                         <h3 class="menu__item-subtitle">${this.title}</h3>
    //                                         <div class="menu__item-descr">${this.descr}</div>
    //                                         <div class="menu__item-divider"></div>
    //                                         <div class="menu__item-price">
    //                                         <div class="menu__item-cost">Price:</div>
    //                                         <div class="menu__item-total"><span>${this.price}</span> uzs month</div>
    //                                         </div>`
                    

    //                 this.parent.append(element)

    //         }         
    // }




    
    // new MenuCard(
    //     "../img/1.png",
    //     "usual",
    //     'Plan "Usual"',
    //     "Lorem ipsum, dolor sit amet consectetur adipisicing elit. Fugit nesciunt facere, sequi exercitationem praesentium ab cupiditate beatae debitis perspiciatis itaque quaerat id modi corporis delectus ratione nobis harum voluptatum in.",
    //     10,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()

    // new MenuCard(
    //     "../img/2.jpg",
    //     "elite",
    //     'Plan “Premium”',
    //     "Lorem ipsum dolor sit amet consectetur adipisicing elit. Itaque aliquid molestiae, sit eveniet, tempora ipsum quaerat recusandae sapiente doloremque corporis dolores quas consectetur ut labore distinctio libero reiciendis harum sequi?",    
    //     15,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()
    
    // new MenuCard(
    //     "../img/3.jpg",
    //     "post",
    //     'Plan "VIP"',
    //     "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptatibus natus nobis minus corporis atque enim vitae, modi eligendi commodi itaque voluptatum ipsum. Nemo reiciendis, id rem dolorum rerum consequuntur eos.",
    //     20,
    //     '.menu .container',
    //     'menu__item'
    // ).rander()


    
    
    
})  
